{"version":3,"sources":["../../src/dnd.utils.ts","../../src/dnd.config.ts","../../src/dnd.service.ts","../../node_modules/tslib/tslib.es6.js","../../src/abstract.component.ts","../../src/draggable.component.ts","../../src/droppable.component.ts","../../src/sortable.component.ts","../../src/dnd.module.ts"],"names":["isString","obj","isPresent","name","this","DataTransferEffect","COPY","LINK","MOVE","NONE","imageElement","x_offset","y_offset","imgScr","HTMLImageElement","src","onDragStartClass","onDragEnterClass","onDragOverClass","onSortableDragClass","dragEffect","dropEffect","dragCursor","defaultCursor","dragDropServiceFactory","DragDropService","allowedDropZones","dragDropSortableServiceFactory","config","DragDropSortableService","Injectable","_config","Object","defineProperty","prototype","_elem","markSortable","elem","classList","remove","add","DragDropConfig","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","AbstractComponent","elemRef","_dragDropService","_cdr","_this","_dragEnabled","dropEnabled","dropZones","cloneItem","_defaultCursor","nativeElement","style","cursor","ondragenter","event","_onDragEnter","ondragover","_onDragOver","dataTransfer","ondragleave","_onDragLeave","ondrop","_onDrop","onmousedown","_target","target","ondragstart","_dragHandle","contains","_onDragStart","setData","effectAllowed","dragImage","setDragImage","img","createImage","callFun","_dragHelper","cloneNode","position","top","left","parentElement","appendChild","offsetX","offsetY","cursorelem","effectCursor","preventDefault","ondragend","removeChild","_onDragEnd","enabled","draggable","setDragHandle","detectChanges","setTimeout","destroyed","_isDropAllowed","_onDragEnterCallback","_onDragOverCallback","_onDragLeaveCallback","_preventAndStop","_onDropCallback","isDragged","files","allowDrop","dragData","length","i","dragZone","indexOf","stopPropagation","_onDragStartCallback","_onDragEndCallback","Directive","ElementRef","ChangeDetectorRef","_Component","DraggableComponent","dragDropService","cdr","_super","call","onDragStart","EventEmitter","onDragEnd","onDragSuccessCallback","dragEnabled","value","emit","mouseEvent","args","selector","Input","Output","DraggableHandleComponent","AbstractHandleComponent","DroppableComponent","onDropSuccess","onDragEnter","onDragOver","onDragLeave","SortableContainer","_sortableDataService","_sortableData","sortableData","FormArray","sortableHandler","SortableFormArrayHandler","SortableArrayHandler","item","sortableContainer","getItemAt","index","removeItemAt","insertItemAt","splice","at","controls","removeAt","insert","SortableComponent","_sortableContainer","onDragStartCallback","onDragOverCallback","onDragEndCallback","onDropSuccessCallback","SortableHandleComponent","ɵ1","providers","provide","useFactory","ɵ0","deps","DndModule","forRoot","ngModule","NgModule","declarations","exports"],"mappings":"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","sourcesContent":["// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\n/**\r\n * Check and return true if an object is type of string\r\n */\r\nexport function isString(obj:any) {\r\n    return typeof obj === \"string\";\r\n}\r\n\r\n/**\r\n * Check and return true if an object not undefined or null\r\n */\r\nexport function isPresent(obj: any) {\r\n    return obj !== undefined && obj !== null;\r\n}\r\n\r\n/**\r\n * Check and return true if an object is type of Function\r\n */\r\nexport function isFunction(obj: any) {\r\n    return typeof obj === \"function\";\r\n}\r\n\r\n/**\r\n * Create Image element with specified url string\r\n */\r\nexport function createImage(src: string) {\r\n    let img:HTMLImageElement = new HTMLImageElement();\r\n    img.src = src;\r\n    return img;\r\n}\r\n\r\n/**\r\n * Call the function\r\n */\r\nexport function callFun(fun: Function) {\r\n    return fun();\r\n}","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport {isString} from './dnd.utils';\r\n\r\nexport class DataTransferEffect {\r\n\r\n    static COPY = new DataTransferEffect('copy');\r\n    static LINK = new DataTransferEffect('link');\r\n    static MOVE = new DataTransferEffect('move');\r\n    static NONE = new DataTransferEffect('none');\r\n\r\n    constructor(public name: string) { }\r\n}\r\n\r\nexport class DragImage {\r\n    constructor(\r\n        public imageElement: any,\r\n        public x_offset: number = 0,\r\n        public y_offset: number = 0) {\r\n            if (isString(this.imageElement)) {\r\n                // Create real image from string source\r\n                let imgScr: string = <string>this.imageElement;\r\n                this.imageElement = new HTMLImageElement();\r\n                (<HTMLImageElement>this.imageElement).src = imgScr;\r\n            }\r\n        }\r\n}\r\n\r\nexport class DragDropConfig {\r\n    public onDragStartClass: string = \"dnd-drag-start\";\r\n    public onDragEnterClass: string = \"dnd-drag-enter\";\r\n    public onDragOverClass: string = \"dnd-drag-over\";\r\n    public onSortableDragClass: string = \"dnd-sortable-drag\";\r\n\r\n    public dragEffect: DataTransferEffect = DataTransferEffect.MOVE;\r\n    public dropEffect: DataTransferEffect = DataTransferEffect.MOVE;\r\n    public dragCursor: string = \"move\";\r\n    public dragImage: DragImage;\r\n    public defaultCursor: string = \"pointer\";\r\n}","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport {Injectable, EventEmitter} from '@angular/core';\r\n\r\nimport {DragDropConfig} from './dnd.config';\r\nimport {isPresent} from './dnd.utils';\r\nimport {SortableContainer} from './sortable.component';\r\n\r\nexport class DragDropData {\r\n    dragData: any;\r\n    mouseEvent: MouseEvent;\r\n}\r\n\r\nexport function dragDropServiceFactory(): DragDropService  {\r\n    return new DragDropService();\r\n}\r\n\r\n@Injectable()\r\nexport class DragDropService {\r\n    allowedDropZones: Array<string> = [];\r\n    onDragSuccessCallback: EventEmitter<DragDropData>;\r\n    dragData: any;\r\n    isDragged: boolean;\r\n}\r\n\r\nexport function dragDropSortableServiceFactory(config: DragDropConfig): DragDropSortableService  {\r\n    return new DragDropSortableService(config);\r\n}\r\n\r\n@Injectable()\r\nexport class DragDropSortableService {\r\n    index: number;\r\n    sortableContainer: SortableContainer;\r\n    isDragged: boolean;\r\n\r\n    private _elem: HTMLElement;\r\n    public get elem(): HTMLElement {\r\n        return this._elem;\r\n    }\r\n\r\n    constructor(private _config:DragDropConfig) {}\r\n\r\n    markSortable(elem: HTMLElement) {\r\n        if (isPresent(this._elem)) {\r\n            this._elem.classList.remove(this._config.onSortableDragClass);\r\n        }\r\n        if (isPresent(elem)) {\r\n            this._elem = elem;\r\n            this._elem.classList.add(this._config.onSortableDragClass);\r\n        }\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport { ChangeDetectorRef, ViewRef, Directive} from '@angular/core';\r\nimport { ElementRef} from '@angular/core';\r\n\r\nimport { DragDropConfig, DragImage } from './dnd.config';\r\nimport { DragDropService } from './dnd.service';\r\nimport { isString, isFunction, isPresent, createImage, callFun } from './dnd.utils';\r\n\r\n@Directive()\r\nexport abstract class AbstractComponent {\r\n    _elem: HTMLElement;\r\n    _dragHandle: HTMLElement;\r\n    _dragHelper: HTMLElement;\r\n    _defaultCursor: string;\r\n\r\n    /**\r\n     * Last element that was mousedown'ed\r\n     */\r\n    _target: EventTarget;\r\n\r\n    /**\r\n     * Whether the object is draggable. Default is true.\r\n     */\r\n    private _dragEnabled: boolean = false;\r\n    set dragEnabled(enabled: boolean) {\r\n        this._dragEnabled = !!enabled;\r\n        this._elem.draggable = this._dragEnabled;\r\n    }\r\n    get dragEnabled(): boolean {\r\n        return this._dragEnabled;\r\n    }\r\n\r\n    /**\r\n     * Allows drop on this element\r\n     */\r\n    dropEnabled: boolean = false;\r\n    /**\r\n     * Drag effect\r\n     */\r\n    effectAllowed: string;\r\n    /**\r\n     * Drag cursor\r\n     */\r\n    effectCursor: string;\r\n\r\n    /**\r\n     * Restrict places where a draggable element can be dropped. Either one of\r\n     * these two mechanisms can be used:\r\n     *\r\n     * - dropZones: an array of strings that permits to specify the drop zones\r\n     *   associated with this component. By default, if the drop-zones attribute\r\n     *   is not specified, the droppable component accepts drop operations by\r\n     *   all the draggable components that do not specify the allowed-drop-zones\r\n     *\r\n     * - allowDrop: a boolean function for droppable components, that is checked\r\n     *   when an item is dragged. The function is passed the dragData of this\r\n     *   item.\r\n     *   - if it returns true, the item can be dropped in this component\r\n     *   - if it returns false, the item cannot be dropped here\r\n     */\r\n    allowDrop: (dropData: any) => boolean;\r\n    dropZones: string[] = [];\r\n\r\n    /**\r\n     * Here is the property dragImage you can use:\r\n     * - The string value as url to the image\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"/images/simpler.png\">\r\n     * ...\r\n     * - The DragImage value with Image and optional offset by x and y:\r\n     *   let myDragImage: DragImage = new DragImage(\"/images/simpler1.png\", 0, 0);\r\n     * ...\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"myDragImage\">\r\n     * ...\r\n     * - The custom function to return the value of dragImage programmatically:\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"getDragImage(someData)\">\r\n     * ...\r\n     *   getDragImage(value:any): string {\r\n     *     return value ? \"/images/simpler1.png\" : \"/images/simpler2.png\"\r\n     *   }\r\n     */\r\n    dragImage: string | DragImage | Function;\r\n\r\n    cloneItem: boolean = false;\r\n\r\n    constructor(private elemRef: ElementRef, public _dragDropService: DragDropService, public _config: DragDropConfig,\r\n        private _cdr: ChangeDetectorRef) {\r\n\r\n        // Assign default cursor unless overridden\r\n        this._defaultCursor = _config.defaultCursor;\r\n        this._elem = this.elemRef.nativeElement;\r\n        this._elem.style.cursor = this._defaultCursor;  // set default cursor on our element\r\n        //\r\n        // DROP events\r\n        //\r\n        this._elem.ondragenter = (event: Event) => {\r\n            this._onDragEnter(event);\r\n        };\r\n        this._elem.ondragover = (event: DragEvent) => {\r\n            this._onDragOver(event);\r\n            //\r\n            if (event.dataTransfer != null) {\r\n                event.dataTransfer.dropEffect = this._config.dropEffect.name;\r\n            }\r\n\r\n            return false;\r\n        };\r\n        this._elem.ondragleave = (event: Event) => {\r\n            this._onDragLeave(event);\r\n        };\r\n        this._elem.ondrop = (event: Event) => {\r\n            this._onDrop(event);\r\n        };\r\n        //\r\n        // Drag events\r\n        //\r\n        this._elem.onmousedown = (event: MouseEvent) => {\r\n            this._target = event.target;\r\n        };\r\n        this._elem.ondragstart = (event: DragEvent) => {\r\n            if (this._dragHandle) {\r\n                if (!this._dragHandle.contains(<Element>this._target)) {\r\n                    event.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            this._onDragStart(event);\r\n            //\r\n            if (event.dataTransfer != null) {\r\n                event.dataTransfer.setData('text', '');\r\n                // Change drag effect\r\n                event.dataTransfer.effectAllowed = this.effectAllowed || this._config.dragEffect.name;\r\n                // Change drag image\r\n                if (isPresent(this.dragImage)) {\r\n                    if (isString(this.dragImage)) {\r\n                        (<any>event.dataTransfer).setDragImage(createImage(<string>this.dragImage));\r\n                    } else if (isFunction(this.dragImage)) {\r\n                        (<any>event.dataTransfer).setDragImage(callFun(<Function>this.dragImage));\r\n                    } else {\r\n                        let img: DragImage = <DragImage>this.dragImage;\r\n                        (<any>event.dataTransfer).setDragImage(img.imageElement, img.x_offset, img.y_offset);\r\n                    }\r\n                } else if (isPresent(this._config.dragImage)) {\r\n                    let dragImage: DragImage = this._config.dragImage;\r\n                    (<any>event.dataTransfer).setDragImage(dragImage.imageElement, dragImage.x_offset, dragImage.y_offset);\r\n                } else if (this.cloneItem) {\r\n                    this._dragHelper = <HTMLElement>this._elem.cloneNode(true);\r\n                    this._dragHelper.classList.add('dnd-drag-item');\r\n                    this._dragHelper.style.position = \"absolute\";\r\n                    this._dragHelper.style.top = \"0px\";\r\n                    this._dragHelper.style.left = \"-1000px\";\r\n                    this._elem.parentElement.appendChild(this._dragHelper);\r\n                    (<any>event.dataTransfer).setDragImage(this._dragHelper, event.offsetX, event.offsetY);\r\n                }\r\n\r\n                // Change drag cursor\r\n                let cursorelem = (this._dragHandle) ? this._dragHandle : this._elem;\r\n\r\n                if (this._dragEnabled) {\r\n                    cursorelem.style.cursor = this.effectCursor ? this.effectCursor : this._config.dragCursor;\r\n                } else {\r\n                    cursorelem.style.cursor = this._defaultCursor;\r\n                }\r\n            }\r\n        };\r\n\r\n        this._elem.ondragend = (event: Event) => {\r\n            if (this._elem.parentElement && this._dragHelper) {\r\n                this._elem.parentElement.removeChild(this._dragHelper);\r\n            }\r\n            // console.log('ondragend', event.target);\r\n            this._onDragEnd(event);\r\n            // Restore style of dragged element\r\n            let cursorelem = (this._dragHandle) ? this._dragHandle : this._elem;\r\n            cursorelem.style.cursor = this._defaultCursor;\r\n        };\r\n    }\r\n\r\n    public setDragHandle(elem: HTMLElement) {\r\n        this._dragHandle = elem;\r\n    }\r\n    /******* Change detection ******/\r\n\r\n    detectChanges () {\r\n        // Programmatically run change detection to fix issue in Safari\r\n        setTimeout(() => {\r\n            if ( this._cdr && !(this._cdr as ViewRef).destroyed ) {\r\n                this._cdr.detectChanges();\r\n            }\r\n        }, 250);\r\n    }\r\n\r\n    //****** Droppable *******//\r\n    private _onDragEnter(event: Event): void {\r\n        // console.log('ondragenter._isDropAllowed', this._isDropAllowed);\r\n        if (this._isDropAllowed(event)) {\r\n            // event.preventDefault();\r\n            this._onDragEnterCallback(event);\r\n        }\r\n    }\r\n\r\n    private _onDragOver(event: Event) {\r\n        // // console.log('ondragover._isDropAllowed', this._isDropAllowed);\r\n        if (this._isDropAllowed(event)) {\r\n            // The element is over the same source element - do nothing\r\n            if (event.preventDefault) {\r\n                // Necessary. Allows us to drop.\r\n                event.preventDefault();\r\n            }\r\n\r\n            this._onDragOverCallback(event);\r\n        }\r\n    }\r\n\r\n    private _onDragLeave(event: Event): void {\r\n        // console.log('ondragleave._isDropAllowed', this._isDropAllowed);\r\n        if (this._isDropAllowed(event)) {\r\n            // event.preventDefault();\r\n            this._onDragLeaveCallback(event);\r\n        }\r\n    }\r\n\r\n    private _onDrop(event: Event): void {\r\n        // console.log('ondrop._isDropAllowed', this._isDropAllowed);\r\n        if (this._isDropAllowed(event)) {\r\n            // Necessary. Allows us to drop.\r\n            this._preventAndStop(event);\r\n\r\n            this._onDropCallback(event);\r\n\r\n            this.detectChanges();\r\n        }\r\n    }\r\n\r\n    private _isDropAllowed(event: any): boolean {\r\n        if ((this._dragDropService.isDragged || (event.dataTransfer && event.dataTransfer.files)) && this.dropEnabled) {\r\n            // First, if `allowDrop` is set, call it to determine whether the\r\n            // dragged element can be dropped here.\r\n            if (this.allowDrop) {\r\n                return this.allowDrop(this._dragDropService.dragData);\r\n            }\r\n\r\n            // Otherwise, use dropZones if they are set.\r\n            if (this.dropZones.length === 0 && this._dragDropService.allowedDropZones.length === 0) {\r\n                return true;\r\n            }\r\n            for (let i: number = 0; i < this._dragDropService.allowedDropZones.length; i++) {\r\n                let dragZone: string = this._dragDropService.allowedDropZones[i];\r\n                if (this.dropZones.indexOf(dragZone) !== -1) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private _preventAndStop(event: Event): any {\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        if (event.stopPropagation) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    //*********** Draggable **********//\r\n\r\n    private _onDragStart(event: Event): void {\r\n        //console.log('ondragstart.dragEnabled', this._dragEnabled);\r\n        if (this._dragEnabled) {\r\n            this._dragDropService.allowedDropZones = this.dropZones;\r\n            // console.log('ondragstart.allowedDropZones', this._dragDropService.allowedDropZones);\r\n            this._onDragStartCallback(event);\r\n        }\r\n    }\r\n\r\n    private _onDragEnd(event: Event): void {\r\n        this._dragDropService.allowedDropZones = [];\r\n        // console.log('ondragend.allowedDropZones', this._dragDropService.allowedDropZones);\r\n        this._onDragEndCallback(event);\r\n    }\r\n\r\n    //**** Drop Callbacks ****//\r\n    _onDragEnterCallback(event: Event) { }\r\n    _onDragOverCallback(event: Event) { }\r\n    _onDragLeaveCallback(event: Event) { }\r\n    _onDropCallback(event: Event) { }\r\n\r\n    //**** Drag Callbacks ****//\r\n    _onDragStartCallback(event: Event) { }\r\n    _onDragEndCallback(event: Event) { }\r\n}\r\n@Directive()\r\nexport class AbstractHandleComponent {\r\n    _elem: HTMLElement;\r\n    constructor(private elemRef: ElementRef, public _dragDropService: DragDropService, public _config: DragDropConfig,\r\n        private _Component: AbstractComponent, private _cdr: ChangeDetectorRef) {\r\n        this._Component.setDragHandle(this.elemRef.nativeElement);\r\n    }\r\n}\r\n","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport {ChangeDetectorRef} from '@angular/core';\r\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\r\n\r\nimport {AbstractComponent, AbstractHandleComponent} from './abstract.component';\r\nimport {DragDropConfig, DragImage} from './dnd.config';\r\nimport {DragDropService, DragDropData} from './dnd.service';\r\n\r\n@Directive({ selector: '[dnd-draggable]' })\r\nexport class DraggableComponent extends AbstractComponent {\r\n\r\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\r\n        this.dragEnabled = !!value;\r\n    }\r\n\r\n    /**\r\n     * Callback function called when the drag actions happened.\r\n     */\r\n    @Output() onDragStart: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n    @Output() onDragEnd: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n\r\n    /**\r\n     * The data that has to be dragged. It can be any JS object\r\n     */\r\n    @Input() dragData: any;\r\n\r\n    /**\r\n     * Callback function called when the drag action ends with a valid drop action.\r\n     * It is activated after the on-drop-success callback\r\n     */\r\n    @Output(\"onDragSuccess\") onDragSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\r\n        this.dropZones = value;\r\n    }\r\n\r\n    /**\r\n     * Drag allowed effect\r\n     */\r\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\r\n        this.effectAllowed = value;\r\n    }\r\n\r\n    /**\r\n     * Drag effect cursor\r\n     */\r\n    @Input(\"effectCursor\") set effectcursor(value: string) {\r\n        this.effectCursor = value;\r\n    }\r\n\r\n    /**\r\n     * Here is the property dragImage you can use:\r\n     * - The string value as url to the image\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"/images/simpler.png\">\r\n     * ...\r\n     * - The DragImage value with Image and offset by x and y:\r\n     *   let myDragImage: DragImage = new DragImage(\"/images/simpler1.png\", 0, 0);\r\n     * ...\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"myDragImage\">\r\n     * ...\r\n     * - The custom function to return the value of dragImage programmatically:\r\n     *   <div class=\"panel panel-default\"\r\n     *        dnd-draggable [dragEnabled]=\"true\"\r\n     *        [dragImage]=\"getDragImage(someData)\">\r\n     * ...\r\n     *   getDragImage(value:any): string {\r\n     *     return value ? \"/images/simpler1.png\" : \"/images/simpler2.png\"\r\n     *   }\r\n     */\r\n    @Input() dragImage: string | DragImage | Function;\r\n\r\n    \r\n    @Input() cloneItem: boolean;\r\n\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\r\n        cdr:ChangeDetectorRef) {\r\n\r\n        super(elemRef, dragDropService, config, cdr);\r\n        this._defaultCursor = this._elem.style.cursor;\r\n        this.dragEnabled = true;\r\n    }\r\n\r\n    _onDragStartCallback(event: MouseEvent) {\r\n        this._dragDropService.isDragged = true;\r\n        this._dragDropService.dragData = this.dragData;\r\n        this._dragDropService.onDragSuccessCallback = this.onDragSuccessCallback;\r\n        this._elem.classList.add(this._config.onDragStartClass);\r\n        //\r\n        this.onDragStart.emit({dragData: this.dragData, mouseEvent: event});\r\n    }\r\n\r\n    _onDragEndCallback(event: MouseEvent) {\r\n        this._dragDropService.isDragged = false;\r\n        this._dragDropService.dragData = null;\r\n        this._dragDropService.onDragSuccessCallback = null;\r\n        this._elem.classList.remove(this._config.onDragStartClass);\r\n        //\r\n        this.onDragEnd.emit({dragData: this.dragData, mouseEvent: event});\r\n    }\r\n}\r\n\r\n\r\n@Directive({ selector: '[dnd-draggable-handle]' })\r\nexport class DraggableHandleComponent extends AbstractHandleComponent {\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, _Component: DraggableComponent,\r\n        cdr:ChangeDetectorRef) {\r\n\r\n        super(elemRef, dragDropService, config, _Component, cdr);\r\n    }\r\n}\r\n","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport {ChangeDetectorRef} from '@angular/core';\r\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\r\n\r\nimport {AbstractComponent} from './abstract.component';\r\nimport {DragDropConfig} from './dnd.config';\r\nimport {DragDropService, DragDropData} from './dnd.service';\r\n\r\n@Directive({ selector: '[dnd-droppable]' })\r\nexport class DroppableComponent extends AbstractComponent {\r\n\r\n    @Input(\"dropEnabled\") set droppable(value:boolean) {\r\n        this.dropEnabled = !!value;\r\n    }\r\n\r\n    /**\r\n     * Callback function called when the drop action completes correctly.\r\n     * It is activated before the on-drag-success callback.\r\n     */\r\n    @Output() onDropSuccess: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n    @Output() onDragEnter: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n    @Output() onDragOver: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n    @Output() onDragLeave: EventEmitter<DragDropData> = new EventEmitter<DragDropData>();\r\n\r\n    @Input(\"allowDrop\") set allowdrop(value: (dropData: any) => boolean) {\r\n        this.allowDrop = value;\r\n    }\r\n\r\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\r\n        this.dropZones = value;\r\n    }\r\n\r\n    /**\r\n     * Drag allowed effect\r\n     */\r\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\r\n        this.effectAllowed = value;\r\n    }\r\n\r\n    /**\r\n     * Drag effect cursor\r\n     */\r\n    @Input(\"effectCursor\") set effectcursor(value: string) {\r\n        this.effectCursor = value;\r\n    }\r\n\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\r\n        cdr:ChangeDetectorRef) {\r\n\r\n        super(elemRef, dragDropService, config, cdr);\r\n\r\n        this.dropEnabled = true;\r\n    }\r\n\r\n    _onDragEnterCallback(event: MouseEvent) {\r\n        if (this._dragDropService.isDragged) {\r\n            this._elem.classList.add(this._config.onDragEnterClass);\r\n            this.onDragEnter.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\r\n        }\r\n    }\r\n\r\n    _onDragOverCallback (event: MouseEvent) {\r\n        if (this._dragDropService.isDragged) {\r\n            this._elem.classList.add(this._config.onDragOverClass);\r\n            this.onDragOver.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\r\n        }\r\n    };\r\n\r\n    _onDragLeaveCallback (event: MouseEvent) {\r\n        if (this._dragDropService.isDragged) {\r\n            this._elem.classList.remove(this._config.onDragOverClass);\r\n            this._elem.classList.remove(this._config.onDragEnterClass);\r\n            this.onDragLeave.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\r\n        }\r\n    };\r\n\r\n    _onDropCallback (event: MouseEvent) {\r\n        let dataTransfer = (event as any).dataTransfer;\r\n        if (this._dragDropService.isDragged || (dataTransfer && dataTransfer.files)) {\r\n            this.onDropSuccess.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\r\n            if (this._dragDropService.onDragSuccessCallback) {\r\n                this._dragDropService.onDragSuccessCallback.emit({dragData: this._dragDropService.dragData, mouseEvent: event});\r\n            }\r\n            this._elem.classList.remove(this._config.onDragOverClass);\r\n            this._elem.classList.remove(this._config.onDragEnterClass);\r\n        }\r\n    }\r\n}\r\n","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport {ChangeDetectorRef} from '@angular/core';\r\nimport {Directive, Input, Output, EventEmitter, ElementRef} from '@angular/core';\r\nimport {FormArray} from '@angular/forms';\r\n\r\nimport {AbstractComponent, AbstractHandleComponent} from './abstract.component';\r\nimport {DragDropConfig} from './dnd.config';\r\nimport {DragDropService, DragDropSortableService} from './dnd.service';\r\n\r\n@Directive({ selector: '[dnd-sortable-container]' })\r\nexport class SortableContainer extends AbstractComponent {\r\n\r\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\r\n        this.dragEnabled = !!value;\r\n    }\r\n\r\n    private _sortableData: Array<any>|FormArray = [];\r\n    private sortableHandler: SortableFormArrayHandler|SortableArrayHandler;\r\n\r\n    @Input() set sortableData(sortableData: Array<any>|FormArray) {\r\n        this._sortableData = sortableData;\r\n        if (sortableData instanceof FormArray) {\r\n            this.sortableHandler = new SortableFormArrayHandler();\r\n        } else {\r\n            this.sortableHandler = new SortableArrayHandler();\r\n        }\r\n        //\r\n        this.dropEnabled = !!this._sortableData;\r\n        // console.log(\"collection is changed, drop enabled: \" + this.dropEnabled);\r\n    }\r\n    get sortableData(): Array<any>|FormArray {\r\n        return this._sortableData;\r\n    }\r\n\r\n    @Input(\"dropZones\") set dropzones(value:Array<string>) {\r\n        this.dropZones = value;\r\n    }\r\n\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, cdr:ChangeDetectorRef,\r\n        private _sortableDataService: DragDropSortableService) {\r\n\r\n        super(elemRef, dragDropService, config, cdr);\r\n        this.dragEnabled = false;\r\n    }\r\n\r\n    _onDragEnterCallback(event: Event) {\r\n        if (this._sortableDataService.isDragged) {\r\n            let item:any = this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);\r\n            // Check does element exist in sortableData of this Container\r\n            if (this.indexOf(item) === -1) {\r\n                // Let's add it\r\n                // console.log('Container._onDragEnterCallback. drag node [' + this._sortableDataService.index.toString() + '] over parent node');\r\n                // Remove item from previouse list\r\n                this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index);\r\n                if (this._sortableDataService.sortableContainer._sortableData.length === 0) {\r\n                    this._sortableDataService.sortableContainer.dropEnabled = true;\r\n                }\r\n                // Add item to new list\r\n                this.insertItemAt(item, 0);\r\n                this._sortableDataService.sortableContainer = this;\r\n                this._sortableDataService.index = 0;\r\n            }\r\n            // Refresh changes in properties of container component\r\n            this.detectChanges();\r\n        }\r\n    }\r\n\r\n    getItemAt(index: number): any {\r\n        return this.sortableHandler.getItemAt(this._sortableData, index);\r\n    }\r\n\r\n    indexOf(item: any): number {\r\n        return this.sortableHandler.indexOf(this._sortableData, item);\r\n    }\r\n\r\n    removeItemAt(index: number): void {\r\n        this.sortableHandler.removeItemAt(this._sortableData, index);\r\n    }\r\n\r\n    insertItemAt(item: any, index: number) {\r\n        this.sortableHandler.insertItemAt(this._sortableData, item, index);\r\n    }\r\n}\r\n\r\nclass SortableArrayHandler {\r\n    getItemAt(sortableData: any, index: number): any {\r\n        return sortableData[index];\r\n    }\r\n\r\n    indexOf(sortableData: any, item: any): number {\r\n        return sortableData.indexOf(item);\r\n    }\r\n\r\n    removeItemAt(sortableData: any, index: number) {\r\n        sortableData.splice(index, 1);\r\n    }\r\n\r\n    insertItemAt(sortableData: any, item: any, index: number) {\r\n        sortableData.splice(index, 0, item);\r\n    }\r\n}\r\n\r\nclass SortableFormArrayHandler {\r\n    getItemAt(sortableData: any, index: number): any {\r\n        return sortableData.at(index);\r\n    }\r\n\r\n    indexOf(sortableData: any, item: any): number {\r\n        return sortableData.controls.indexOf(item);\r\n    }\r\n\r\n    removeItemAt(sortableData: any, index: number) {\r\n        sortableData.removeAt(index);\r\n    }\r\n\r\n    insertItemAt(sortableData: any, item: any, index: number) {\r\n        sortableData.insert(index, item);\r\n    }\r\n}\r\n\r\n@Directive({ selector: '[dnd-sortable]' })\r\nexport class SortableComponent extends AbstractComponent {\r\n\r\n    @Input('sortableIndex') index: number;\r\n\r\n    @Input(\"dragEnabled\") set draggable(value:boolean) {\r\n        this.dragEnabled = !!value;\r\n    }\r\n\r\n    @Input(\"dropEnabled\") set droppable(value:boolean) {\r\n        this.dropEnabled = !!value;\r\n    }\r\n\r\n    /**\r\n     * The data that has to be dragged. It can be any JS object\r\n     */\r\n    @Input() dragData: any;\r\n\r\n    /**\r\n     * Drag allowed effect\r\n     */\r\n    @Input(\"effectAllowed\") set effectallowed(value: string) {\r\n        this.effectAllowed = value;\r\n    }\r\n\r\n    /**\r\n     * Drag effect cursor\r\n     */\r\n    @Input(\"effectCursor\") set effectcursor(value: string) {\r\n        this.effectCursor = value;\r\n    }\r\n\r\n    /**\r\n     * Callback function called when the drag action ends with a valid drop action.\r\n     * It is activated after the on-drop-success callback\r\n     */\r\n    @Output(\"onDragSuccess\") onDragSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output(\"onDragStart\") onDragStartCallback: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output(\"onDragOver\") onDragOverCallback: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output(\"onDragEnd\") onDragEndCallback: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output(\"onDropSuccess\") onDropSuccessCallback: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig,\r\n        private _sortableContainer: SortableContainer,\r\n        private _sortableDataService: DragDropSortableService,\r\n        cdr:ChangeDetectorRef) {\r\n        super(elemRef, dragDropService, config, cdr);\r\n        this.dropZones = this._sortableContainer.dropZones;\r\n        this.dragEnabled = true;\r\n        this.dropEnabled = true;\r\n    }\r\n\r\n    _onDragStartCallback(event: Event) {\r\n        // console.log('_onDragStartCallback. dragging elem with index ' + this.index);\r\n        this._sortableDataService.isDragged = true;\r\n        this._sortableDataService.sortableContainer = this._sortableContainer;\r\n        this._sortableDataService.index = this.index;\r\n        this._sortableDataService.markSortable(this._elem);\r\n        // Add dragData\r\n        this._dragDropService.isDragged = true;\r\n        this._dragDropService.dragData = this.dragData;\r\n        this._dragDropService.onDragSuccessCallback = this.onDragSuccessCallback;\r\n        //\r\n        this.onDragStartCallback.emit(this._dragDropService.dragData);\r\n    }\r\n\r\n    _onDragOverCallback(event: Event) {\r\n        if (this._sortableDataService.isDragged && this._elem !== this._sortableDataService.elem) {\r\n            // console.log('_onDragOverCallback. dragging elem with index ' + this.index);\r\n            this._sortableDataService.sortableContainer = this._sortableContainer;\r\n            this._sortableDataService.index = this.index;\r\n            this._sortableDataService.markSortable(this._elem);\r\n            this.onDragOverCallback.emit(this._dragDropService.dragData);\r\n        }\r\n    }\r\n\r\n    _onDragEndCallback(event: Event) {\r\n        // console.log('_onDragEndCallback. end dragging elem with index ' + this.index);\r\n        this._sortableDataService.isDragged = false;\r\n        this._sortableDataService.sortableContainer = null;\r\n        this._sortableDataService.index = null;\r\n        this._sortableDataService.markSortable(null);\r\n        // Add dragGata\r\n        this._dragDropService.isDragged = false;\r\n        this._dragDropService.dragData = null;\r\n        this._dragDropService.onDragSuccessCallback = null;\r\n        //\r\n        this.onDragEndCallback.emit(this._dragDropService.dragData);\r\n    }\r\n\r\n    _onDragEnterCallback(event: Event) {\r\n        if (this._sortableDataService.isDragged) {\r\n            this._sortableDataService.markSortable(this._elem);\r\n            if ((this.index !== this._sortableDataService.index) ||\r\n                (this._sortableDataService.sortableContainer.sortableData !== this._sortableContainer.sortableData)) {\r\n                // console.log('Component._onDragEnterCallback. drag node [' + this.index + '] over node [' + this._sortableDataService.index + ']');\r\n                // Get item\r\n                let item:any = this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);\r\n                // Remove item from previouse list\r\n                this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index);\r\n                if (this._sortableDataService.sortableContainer.sortableData.length === 0) {\r\n                    this._sortableDataService.sortableContainer.dropEnabled = true;\r\n                }\r\n                // Add item to new list\r\n                this._sortableContainer.insertItemAt(item, this.index);\r\n                if (this._sortableContainer.dropEnabled) {\r\n                    this._sortableContainer.dropEnabled = false;\r\n                }\r\n                this._sortableDataService.sortableContainer = this._sortableContainer;\r\n                this._sortableDataService.index = this.index;\r\n                this.detectChanges();\r\n            }\r\n        }\r\n    }\r\n\r\n    _onDropCallback (event: Event) {\r\n        if (this._sortableDataService.isDragged) {\r\n            // console.log('onDropCallback.onDropSuccessCallback.dragData', this._dragDropService.dragData);\r\n            this.onDropSuccessCallback.emit(this._dragDropService.dragData);\r\n            if (this._dragDropService.onDragSuccessCallback) {\r\n                // console.log('onDropCallback.onDragSuccessCallback.dragData', this._dragDropService.dragData);\r\n                this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData);\r\n            }\r\n            // Refresh changes in properties of container component\r\n            this._sortableContainer.detectChanges();\r\n        }\r\n    }\r\n}\r\n\r\n@Directive({ selector: '[dnd-sortable-handle]' })\r\nexport class SortableHandleComponent extends AbstractHandleComponent {\r\n    constructor(elemRef: ElementRef, dragDropService: DragDropService, config:DragDropConfig, _Component: SortableComponent,\r\n        cdr:ChangeDetectorRef) {\r\n\r\n        super(elemRef, dragDropService, config, _Component, cdr);\r\n    }\r\n}\r\n","// Copyright (C) 2016-2020 Sergey Akopkokhyants\r\n// This project is licensed under the terms of the MIT license.\r\n// https://github.com/akserg/ng2-dnd\r\n\r\nimport { NgModule, ModuleWithProviders } from \"@angular/core\";\r\n\r\nimport {DragDropConfig} from './dnd.config';\r\nimport {DragDropService, DragDropSortableService, dragDropServiceFactory, dragDropSortableServiceFactory} from './dnd.service';\r\nimport {DraggableComponent, DraggableHandleComponent} from './draggable.component';\r\nimport {DroppableComponent} from './droppable.component';\r\nimport {SortableContainer, SortableComponent, SortableHandleComponent} from './sortable.component';\r\n\r\nexport * from './abstract.component';\r\nexport * from './dnd.config';\r\nexport * from './dnd.service';\r\nexport * from './draggable.component';\r\nexport * from './droppable.component';\r\nexport * from './sortable.component';\r\n\r\nexport let providers = [\r\n    DragDropConfig,\r\n    { provide: DragDropService, useFactory: dragDropServiceFactory },\r\n    { provide: DragDropSortableService, useFactory: dragDropSortableServiceFactory, deps: [DragDropConfig] }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [DraggableComponent, DraggableHandleComponent, DroppableComponent, SortableContainer, SortableComponent, SortableHandleComponent],\r\n  exports : [DraggableComponent, DraggableHandleComponent, DroppableComponent, SortableContainer, SortableComponent, SortableHandleComponent],\r\n\r\n})\r\nexport class DndModule {\r\n  static forRoot(): ModuleWithProviders<DndModule> {\r\n        return {\r\n            ngModule: DndModule,\r\n            providers: providers\r\n        };\r\n    }\r\n}\r\n"]}